<script lang="ts">
  import Award from "@lucide/svelte/icons/award";
  import MapPin from "@lucide/svelte/icons/map-pin";
  import Calendar from "@lucide/svelte/icons/calendar";
  import TrendingUp from "@lucide/svelte/icons/trending-up";

  const whatsappMessage = encodeURIComponent("Hi Daniel! I want to see the backend thinking behind your builds.");
  const whatsappUrl = `https://wa.me/2348034411661?text=${whatsappMessage}`;

  const achievements = [
    {
      icon: "üë®üèΩ‚Äçüíª",
      title: "CTO ‚Äî Enski",
      subtitle: "Co-Founder / Personal Project",
      location: "Abuja, Nigeria",
      period: "2022 - Present",
      highlights: [
        "Spearheaded the vision and execution of a full-fledged course hosting platform for creators across Africa.",
        "Engineered the complete backend architecture, including a seamless video delivery system with anti-piracy layers.",
        "Integrated international payment systems, discounting tools, and automated sales recovery flows.",
        "Designed for scale and simplicity‚Äîonboarded 200+ creators within the first release phase.",
      ],
    },
    {
      icon: "üß†",
      title: "Senior Software Developer",
      subtitle: "Full-Time",
      company: "theElects Ventures",
      location: "Lagos, Nigeria",
      period: "2019 - 2021",
      highlights: [
        "Led the core development of a custom-built internet-based product & staff management platform used by enterprise clients.",
        "Integrated bandwidth controls, user authentication systems, and uptime monitoring into one cohesive backend.",
        "Integrated stock management, QA, sales, accounting, audit, invoicing, and dispatch management modules complete with email notification systems",
        "Interfaced with company HR to develop a staff training system for proper and seamless staff onboarding",
      ],
    },
    {
      icon: "üíº",
      title: "Senior Software Engineer",
      subtitle: "Contract",
      company: "SmartCoop HQ Ltd",
      location: "Delta, Nigeria",
      period: "2020 - 2023",
      highlights: [
        "Inherited and stabilized a failing codebase from a previous team and refactored it into a stable, user-friendly fintech platform.",
        "Developed a robust loan management system, automated savings portfolios, and flexible target-saving plans.",
        "Introduced advanced user-triggered notification flows that reduced churn by over 30%.",
        "Implemented complete payment systems including automated time-based debits from users using Paystack API",
      ],
    },
    {
      icon: "üß©",
      title: "Full-Stack Developer / Team Lead",
      subtitle: "Full-Time",
      company: "Mypadi.ng",
      location: "Delta, Nigeria",
      period: "2017 - 2019",
      highlights: [
        "Re-engineered inherited backend code architecture for a more scalable, maintainable and testable project and ensured smooth transition without any downtimes",
        "Maintained all backend APIs using Laravel to power Nigeria's first student accommodation booking platform.",
        "Led a distributed team of frontend developers, overseeing sprints, testing, and feature releases.",
        "Enhanced trust and safety with geo-targeted listings and landlord verification protocols.",
      ],
    },
    {
      icon: "üéÆ",
      title: "Full Stack Developer",
      subtitle: "Contract",
      company: "TCOM (FastPlay24 Project)",
      location: "Delta, Nigeria",
      period: "2015 - 2017",
      highlights: [
        "Built a scalable, high-traffic timer-based gaming web application using Laravel and VueJS from scratch.",
        "Architected both the frontend and backend to handle complex logic around payments, user rewards, and real-time leaderboards.",
        "Implemented RESTful APIs for component consumption to keep the UI data real-time at all times",
        "Launched on schedule despite shifting requirements‚Äîachieved 99.9% uptime during first production rollout.",
      ],
    },
  ];
</script>

<section id="achievements" class="section-padding bg-gray-50">
  <div class="container-custom">
    <div class="mb-16 animate-slide-up text-center">
      <div class="mb-4 flex items-center justify-center gap-3">
        <Award class="text-primary-600" size={32} />
        <h2 class="text-4xl font-bold text-gray-900 md:text-5xl">Roles & Achievements</h2>
      </div>
      <p class="mx-auto max-w-4xl text-xl text-gray-600">Each role wasn't just a title but a challenge met, a system built, and a team or company moved forward. Here's a snapshot of how I've shown up over the years:</p>
    </div>

    <div class="relative">
      <div class="absolute left-8 h-full w-1 transform bg-primary-200 md:left-1/2 md:-translate-x-1/2"></div>

      <div class="space-y-12">
        {#each achievements as achievement, index}
          <div class="relative animate-slide-up" style="animation-delay: {index * 0.1}s;">
            <div class="absolute left-4 flex h-8 w-8 transform items-center justify-center rounded-full border-4 border-white bg-primary-600 shadow-lg md:left-1/2 md:-translate-x-1/2">
              <div class="h-3 w-3 rounded-full bg-white"></div>
            </div>

            <div class="ml-16 md:ml-0 md:w-1/2 {index % 2 === 0 ? 'md:mr-auto md:pr-8' : 'md:ml-auto md:pl-8'}">
              <div class="card-hover rounded-2xl border border-gray-100 bg-white p-8 shadow-lg">
                <div class="mb-6 flex items-start gap-4">
                  <div class="text-4xl">{achievement.icon}</div>
                  <div class="flex-1">
                    <h3 class="mb-1 text-xl font-bold text-gray-900">{achievement.title}</h3>
                    <p class="mb-2 font-semibold text-primary-600">{achievement.subtitle}</p>
                    {#if achievement.company}
                      <p class="mb-2 font-medium text-gray-700">{achievement.company}</p>
                    {/if}

                    <div class="flex flex-wrap gap-4 text-sm text-gray-500">
                      <div class="flex items-center gap-1">
                        <MapPin size={14} />
                        <span>{achievement.location}</span>
                      </div>
                      <div class="flex items-center gap-1">
                        <Calendar size={14} />
                        <span>{achievement.period}</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="space-y-3">
                  {#each achievement.highlights as highlight}
                    <div class="flex items-start gap-3">
                      <div class="mt-2 h-2 w-2 flex-shrink-0 rounded-full bg-primary-600"></div>
                      <p class="leading-relaxed text-gray-700">{highlight}</p>
                    </div>
                  {/each}
                </div>
              </div>
            </div>
          </div>
        {/each}
      </div>
    </div>

    <div class="mt-16 animate-slide-up text-center">
      <div class="rounded-2xl bg-gradient-to-r from-primary-600 to-primary-700 p-8 text-white">
        <div class="mb-4 flex items-center justify-center gap-3">
          <TrendingUp size={28} />
          <h3 class="text-2xl font-bold">Want to see the backend thinking behind any of these builds?</h3>
        </div>
        <p class="mb-6 text-xl text-primary-100">I'll show you what scaled.. and why it worked.</p>
        <a href={whatsappUrl} target="_blank" rel="noopener noreferrer" class="btn-primary bg-white text-primary-600 hover:bg-gray-100">Let's Talk</a>
      </div>
    </div>
  </div>
</section>
